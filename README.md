## Лабораторная работа "Системы массового обслуживания"

[DEPLOYED](https://cadaverine.github.io/queueing-system-lab/) | [![Build Status](https://travis-ci.com/cadaverine/queueing-system-lab.svg?branch=master)](https://travis-ci.com/cadaverine/queueing-system-lab)


### Т.З.:

Смоделировать обработку в банковском отделении заявок типа XCHG, CARD,
CRED, ACNT. Отделы – обменные и операционные кассы (NX и NO шт.), первые
обрабатывают заявки типа XCHG, вторые – все или некоторые из остальных типов
заявок. Смоделировать поток заявок, поступающих через случайные промежутки
времени за рабочий день. Задаётся количество NT всех заявок, пропорция заявок
разного типа, математическое ожидание времён обработки одной заявки каждого
типа. Поступление заявок прерывается за полчаса до конца рабочего дня, в течение
ещё получаса заявки из очереди принимаются к обработке.
Реализовать механизмы прерывания и возобновления обработки заявки, отказа в
обслуживании во время обслуживания (к примеру, бумаги подготовлены, но заявка не
может быть выполнена ввиду недостатка средств), изменения состояния заявки,
присвоения и/или изменения значений временных полей класса заявки, работы с
пулом (пулами) заявок. Выводить статистику: времена постановки в очередь, начала
обработки, конца обработки, время, проведённое заявкой в очереди, время обработки
заявки (за вычетом времени прерывания, если таковое случилось), также времена
прерывания и возобновления обработки заявки; количество обработанных и
необработанных заявок по типам. При разном количестве и пропорциях заявок
моделировать нормальный режим работы, отказы в обслуживании конца очереди по
одному или нескольким типам заявок. В системе есть 2 обменных кассы и 5
операционных. Смоделировать работу СМО, операционные кассы – по вариантам.

#### Варианты:

**а)** Кассы 1, 2, 3 обрабатывают заявки типа CARD и CRED, 4 и 5 – ACNT и
CRED. Смоделировать СМО разными очередями и выборкой из одной общей
очереди.

**б)** Кассы 1, 2 обрабатывают заявки типа CARD и CRED, 3 и 4 – ACNT и
CRED, 5 – CARD, CRED, ACNT. СМО имеет единую очередь. Заявки типа CRED
обрабатываются вне очереди, но не более 2 подряд: в этом случае за ними следуют 5
заявок другого типа. В статистику включить количество заявок каждого типа,
обработанных каждой кассой.

**в)** 5 касс принимают 3 типа заявок в порядке общей очереди. В NA %
случаев происходит досрочный отказ в обработке заявки, в NF % – досрочное
выполнение заявки. Если величина очереди в нужную кассу, включая обменную,
превышает пороговую величину SZM (клиент оценивает очередь как «большую»),
приходящий клиент уходит (заявка получает статус ReqStateType . Missed из примера).
Отказы и пропущенные заявки также выводить в статистику.

**г)** 5 касс принимают 3 типа заявок в порядке общей очереди. В NR %
случаев в середине выполнения заявки клиента отсылают к банкомату, что занимает
ещё половину времени выполнения той же заявки, после чего клиент становится в
начало очереди к той же кассе, в которой обслуживался, и будет обслужен после
клиента, обслуживаемого в ней в настоящий момент. Выполнение его заявки
продолжается с момента прерывания. Время прерывания и возобновления обработки
заявки выводить в статистику.

**д)** 5 касс принимают 3 типа заявок в порядке общей очереди с приоритетами
обслуживания: после подряд обработанных 3 заявок типа CARD или ACNT следует
заявка типа CRED, если таковая есть в очереди. Моделировать разными очередями.

**е)** 5 касс принимают 3 типа заявок в порядке общей очереди. При
выполнении заявки типа CRED или ACNT в NC % случаев тот же клиент встаёт в
конец очереди (на текущий момент) с заявкой типа XCHG, и наоборот. Выводить29
количество таких клиентов, которые были обслужены с обеими заявками или только с
одной из двух, в зависимости от типа заявок.

**ж)** Кассы 1, 2 обрабатывают заявки типа CARD, 3, 4 и 5 – ACNT и CRED.
При выполнении заявки типа CRED или ACNT в NB % случаев тот же клиент встаёт в
конец очереди (на текущий момент) с заявкой типа CARD или XCHG. Выводить
количество таких клиентов, которые были обслужены со всеми своими заявками или
только с частью, в зависимости от типа заявок.

**з)** Кассы 1, 2, 3 обрабатывают заявки типа CARD и CRED, 4 и 5 – ACNT и
CRED. Рассмотреть разное соотношение заявок разных типов. Для каждой
последовательности заявок моделировать результаты обработки заявок 5, 4, 3
кассами; сравнить количество обработанных и необработанных заявок в этих случаях.
Провести тот же эксперимент для случая обработки 5 кассами 3 типов заявок в
порядке общей очереди.

**и)** 5 касс принимают 3 типа заявок в порядке общей очереди. В NP2 %
случаев заявка состоит из 2 заявок, в NP3 % случаев – из 3 (в любых сочетаниях),
которые либо обрабатываются подряд в той же кассе, либо, если присутствует
обменная операция, клиент последовательно встаёт с ней в конец очереди в нужную
кассу. Выводить статистику по заявкам, а также по клиентам.

**к)** В 5 кассах сидят менеджеры, являющиеся предпочтительными для
клиентов. Клиент с любым типом заявки из трёх встаёт в очередь предпочтительно к
«своему» менеджеру, однако, если к нужному менеджеру большая очередь, он будет
направлен туда, где очередь меньше. Моделировать разные соотношения клиентов по
менеджерам.

**л)** 5 касс принимают 3 типа заявок в порядке общей очереди. В ND %
случаев клиент берёт 2 талончика в разные кассы (в обменную кассу и в
операционную) и встаёт в две очереди. Если клиент обслуживается в одной кассе, а
подходит его очередь в другую кассу, после завершения обслуживания ему придётся
брать второй талончик заново. Выводить статистику по заявкам и по клиентам.

**м)** Кассы 1, 2, 3 обрабатывают заявки типа CARD и CRED, 4 и 5 – ACNT и
CRED. В ND % случаев клиент берёт 2 талончика в разные кассы, включая обменные,
и встаёт в две очереди. Если клиент обслуживается в одной кассе, а подходит его
очередь в другую кассу, ему придётся брать талончик в последнюю после того, как он
будет обслужен в первой.
